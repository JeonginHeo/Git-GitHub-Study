# Chapter 3. 깃과 브랜치 

# 3-1. 브랜치 알아보기

## 1) 브랜치가 필요한 이유

- 메인 코드는 main브랜치에, 새로 추가하는 기능이나 코드 사항은 새 브랜치에.

## 2) 브랜치 기능 살펴보기

- 사용자가 커밋할 때마다 main 브랜치에 어떤 게 최신 커밋인지 정보가 있음
    
    ⇒ 브랜치는 커밋을 가리키는 포인터와 같은 역할 
    
- 분기하다(branch) : 기존 파일은 main 브랜치에 유지, 새 브랜치에서 기존 파일 내용 수정
- 병합한다(merge) : 분기했던 브랜치를 main 브랜치에 합치는 것

# 3-2. 브랜치 만들기 및 이동하기

## 1) 새 브랜치 만들기

- $ git branch : 깃에서 브랜치 생성/확인 명령
- $ git branch *브랜치 이름* : 새 브랜치 생성
- * 표시 : 현재 작업 중인 브랜치

## 2) 새 커밋을 추가하면 어떻게 될까?

ex) main외 3개의 브랜치 추가, 현재 최신 커밋은 work 3

- 새 내용 저장 후 커밋 추가 → main만 최신 커밋, 나머지는 이전 커밋

cf) $ git log —oneline : 한 줄에 한 커밋씩 보여줌

## 3) 브랜치 전환하기 - git switch

- 브랜치를 전환한다(체크아웃한다) : 현재 브랜치에서 다른 브랜치로 이동
- $ git switch *전환할 브랜치 이름*

# 3-3. 브랜치에서 커밋하기

## 1) 전환한 브랜치에서 커밋하기

- $ git add . : 현재 저장소에서 수정 내용이 있는 파일을 스테이지에 한꺼번에 올림

## 2) 브랜치와 커밋의 관계 알아보기

- git log 명령에 —branches 옵션 : 브랜치마다 최신 커밋을 볼 수 있음
    - —graph 옵션: 브랜치와 커밋 관계를 그래프 형태로 표시
        - 점선을 따라 가면 부모를 찾을 수 있음

## 3) 브랜치 간의 차이점 살펴보기

- & git log *브랜치 이름1*..*브랜치 이름2*
    - 입력시, 브랜치 이름과 마침표 사이에 공백이 없어야 함
    - 왼쪽 브랜치를 기준으로 오른쪽 브랜치와 비교
    - ex ) $ git log main..apple
        
        ⇒ main 브랜치에는 없고 apple 브랜치에만 있는 커밋
        

# 3-4. 브랜치 병합하기

## 1) 서로 다른 파일 병합하기

- 브랜치 병합 전 먼저 main 브랜치로 전환
- $ git merge *가져올 브랜치 이름*

## 2) 서로 다른 브랜치에서 한 문서의 같은 부분을 수정했을 때 병합

- 서로 다른 브랜치에서 같은 문서의 같은 줄 수정 시, 브랜치를 병합하면 충돌 발생
- merge 한 후, 병합 편집기에서 확인 선택

## 3) 병합이 끝난 브랜치 삭제하기

- $ git branch -d *삭제할 브랜치 이름*
- 삭제한 브랜치는 같은 이름으로 브랜치를 다시 만들면 예전 작업 내용이 나타남
    
    ⇒ 브랜치를 삭제 : 저장소에서 완전히 삭제X, 흐름 속에서 감춘 것
    

## 4) cherry-pick으로 병합하기

- 브랜치 전체가 아니라 특정 버전의 변경 내용만 합칠 때 사용하는 기능
- $ touch *이름* : 빈 파일을 만드는 명령
- $ git cherry-pick *복사한-커밋-해시*

cf) 터미널에서 세미콜론(;)으로 구분해서 여러 명령 한번에 처리 가능 

---

# (정리) 3장에서 꼭 기억해야 할 명령

| 명령어 | 설명  |
| --- | --- |
| git_ branch fixed | 새로운 브랜치 fixed를 만든다. |
| git log —oneline | 커밋 로그에서 한 줄에 한 커밋씩 표시한다.  |
| git switch fixed  | fixed 브랜치로 전환한다.  |
| git add . | 수정한 파일을 스테이지헤 한꺼번에 올린다.  |
| git log —branches —graph | 커밋 로그에 각 브랜치의 커밋을 그래프로 표시한다.  |
| git merge fixed | 현재 main 브랜치에 있으며, fixed 브랜치를 main 브랜치에 병합한다.  |
| git branch -d fixed | 병합이 끝난 fixed 브랜치를 삭제 한다.  |
| git cherry-pick 12345 | 현재 main 브랜치에 있으며 커밋 해시 12345를 체리픽으로 병합한다.  |
| touch file-1 | file-1이라는 빈 파일을 만든다.  |
