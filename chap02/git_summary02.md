# 2-1. 깃 저장소 만들기

- 저장소(respository): 깃으로 버전 관리시, 폴더 안에 버전이 저장되는 공간
- 깃 저장소는 시스템 내 어느 곳이든 생성 O
- `$ git init` : 현재 디렉터리에서 깃을 사용할 수 있게 초기화
    - 파일 경로 끝에 (main)표시 ⇒ 디렉터리에 깃 저장소가 생겼다는 의미

# 2-2. 버전 만들기

## 1) 깃에서의 버전 관리

- 버전 관리 시스템 : 버전을 만든 시간과 수정 내용까지 기록할 수 있는 것

## 2) 깃의 작업 영역 이해하기

### 작업 트리(working tree)

- 파일 수정, 저장 등의 작업을 하는 디렉터리
- 우리 눈에 보이는 디렉터리

### 스테이지(stage, 스테이징 영역)

- 버전으로 만들 파일이 대기하는 곳
- ex) 작업 트리에서 파일 10개 수정했는데 4개만 버전으로 만드려면 파일 4개만 스테이지로

### 저장소(repository)

- 스테이지에서 대기하고 있던 파일들을 버전으로 만들어 저장하는 곳

*스테이지와 저장소는 .git디렉터리 안에 숨은 파일 형태로 존재하는 영역 ⇒ 눈에 보이지 X

## 3) 스테이지와 커밋 이해하기

- **commit** : 깃에서 버전을 만드는 명령
    - 커밋한다 : 버전을 만드는 것
    - 깃에게 commit 명령을 내리면 새로운 버전이 생성되면서 스테이지에 대기하던 파일이 모두 저장소에 저장

## 4) 작업 트리에서 변경 사항 만들기

- `$ git status` : 깃 상태 확인
- *‘Untracked files’* : 깃에서 버전을 아직 한번도 관리하지 않은 파일

## 5) 스테이지에 변경 사항 올리기 - git add

- 스테이징/스테이지에 올린다 : 깃에게 버전 만들 준비를 하라고 알려주는 것
- `$ git add` : 깃에서 스테이징
- *‘Changes to be committed’* : 새 파일을 커밋할 것이다

## 6) 스테이징한 파일 커밋하기 - git commit

- `$ git commit` : 깃에서 파일을 커밋하는 명령
    - -m옵션을 붙이고 커밋과 함께 저장할 메시지 작성 ⇒ 커밋 메시지
- `& git log` : 저장소에 저장된 버전 확인

## 7) 스테이징과 커밋 한꺼번에 처리하기 - git commit -am

- 스테이지 + 커밋 동시에 처리는 한번이라도 커밋한 적 있는 파일을 다시 커밋할 때만
- commit 명령에 **-am옵션** : 스테이징+커밋 한꺼번에 처리

# 2-3. 커밋 내용 확인하기

## 1) 커밋 기록 자세히 살펴보기 - git log

- 커밋 해시(깃 해시): 커밋을 구별하는 아이디
- 커밋 로그: git log 명령 입력 시 나오는 정보

## 2) 변경 사항 확인하기 - git diff

- **git diff 명령** : 작업 트리와 스테이지에 있는 파일 비교 or 스테이지에 있는 파일과 저장소에 있는 최신 커밋을 비교해서 수정한 파일을 커밋하기 전 최종 검토

# 2-4. 버전 만드는 단계마다 파일 상태 알아보기

## 1) tracked 파일과 untracked 파일

- tracked 파일 : 버전을 한번이라도 만든 파일, 깃이 추적하고 있음
- untracked 파일 : 한번도 커밋 X
- `$ git add .` : 작업 트리에 있는 수정 파일들을 스테이지에 한꺼번에 올림
- `$ git log —stat옵션`: 커밋과 관련된 파일까지 함께 보기

## 2) unmodified, modified, stage 상태

- *‘working tree clean’* : 현재 작업 트리에 있는 모든 파일의 상태는 **‘unmodified’**
- *‘Changes not stage for commit’* : 파일이 수정만 된 **‘modified’**상태
- *‘Changes to be committed‘* : 커밋 직전 단계 즉, **‘staged’**상태

cf) 방금 커밋한 메시지를 수정하려면?

`$ git commit —amend`

# 2-5. 작업 되돌리기

## 1) 작업 트리에서 수정한 파일 되돌리기 - git restore

- `$ git restore *파일명*` : 파일 수정 사항 취소

## 2) 스테이징 되돌리기 - git restore —staged

- restore 뒤에 **—staged옵션**: 스테이지에 있는 모든 파일 한꺼번에 되돌리기
    - 특정 파일만 할 시, —staged 뒤에 파일명 넣기
    

## 3) 최신 커밋 되돌리기 - git reset HEAD^

- 수정된 파일을 스테이징, 커밋까지 했을 때 가장 마지막의 커밋 취소
- 커밋 취소 시, 커밋과 스테이징 함께 취소
- `$ git reset HEAD^` : main의 최신 커밋 취소, 스테이지에서도 내려짐, 작업 트리에 파일.

## 4) 특정 커밋으로 되돌리기 - git reset 해시

- reset 커밋 해시 사용 시 주의점 : reset A 입력 → 삭제 명령 X, A 커밋 이후의 커밋 삭제 후 A커밋으로 이동한다는 뜻
- `$ git reset —hard *복사한 커밋 해시*`

## 5)  커밋 변경 이력 취소하기 - git revert

- git reset Vs. git revert
    - git reset : 수정 내용 삭제
    - git revert : 커밋을 취소하더라도 커밋한 기록은 남겨두기
        
        ⇒ 변경 사항만 취소하고 커밋은 남겨둠
